//
// Created by Max Mitchell on 03/10/2023.
//

#include "ViewComplex.h"

char ViewComplex::optionalPieceToChar(const std::optional<Piece> &optionalPiece) const {
    if (!optionalPiece.has_value()) {
        return ' ';
    } else {
        return (optionalPiece.value().getType() == Piece::Type::X) ? 'X' : 'O';
    }
}

void ViewComplex::viewIntroduction() const {
    std::cout << "\n"
                 "░██╗░░░░░░░██╗███████╗██╗░░░░░░█████╗░░█████╗░███╗░░░███╗███████╗  ████████╗░█████╗░  ████████╗██╗░█████╗░░░░░░░████████╗░█████╗░░█████╗░░░░░░░████████╗░█████╗░███████╗\n"
                 "░██║░░██╗░░██║██╔════╝██║░░░░░██╔══██╗██╔══██╗████╗░████║██╔════╝  ╚══██╔══╝██╔══██╗  ╚══██╔══╝██║██╔══██╗░░░░░░╚══██╔══╝██╔══██╗██╔══██╗░░░░░░╚══██╔══╝██╔══██╗██╔════╝\n"
                 "░╚██╗████╗██╔╝█████╗░░██║░░░░░██║░░╚═╝██║░░██║██╔████╔██║█████╗░░  ░░░██║░░░██║░░██║  ░░░██║░░░██║██║░░╚═╝█████╗░░░██║░░░███████║██║░░╚═╝█████╗░░░██║░░░██║░░██║█████╗░░\n"
                 "░░████╔═████║░██╔══╝░░██║░░░░░██║░░██╗██║░░██║██║╚██╔╝██║██╔══╝░░  ░░░██║░░░██║░░██║  ░░░██║░░░██║██║░░██╗╚════╝░░░██║░░░██╔══██║██║░░██╗╚════╝░░░██║░░░██║░░██║██╔══╝░░\n"
                 "░░╚██╔╝░╚██╔╝░███████╗███████╗╚█████╔╝╚█████╔╝██║░╚═╝░██║███████╗  ░░░██║░░░╚█████╔╝  ░░░██║░░░██║╚█████╔╝░░░░░░░░░██║░░░██║░░██║╚█████╔╝░░░░░░░░░██║░░░╚█████╔╝███████╗\n"
                 "░░░╚═╝░░░╚═╝░░╚══════╝╚══════╝░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚══════╝  ░░░╚═╝░░░░╚════╝░  ░░░╚═╝░░░╚═╝░╚════╝░░░░░░░░░░╚═╝░░░╚═╝░░╚═╝░╚════╝░░░░░░░░░░╚═╝░░░░╚════╝░╚══════╝\n";
    std::cout << std::endl;
}

void ViewComplex::viewBoard(const ViewComplex::Board &board) const {
    const std::string boardLine = "-------------";
    for (const auto& row : board) {
        std::cout << boardLine << std::endl;
        std::cout << "| ";
        for (const auto& piece : row) {
            std::cout << optionalPieceToChar(piece) << " | ";
        }
        std::cout << std::endl;
    }
    std::cout << boardLine << std::endl;
}